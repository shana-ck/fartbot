import express from 'express';
import { Lexicons, LexXrpcProcedure, LexXrpcQuery, LexXrpcSubscription } from '@atproto/lexicon';
import { UndecodedParams, Params, HandlerInput, HandlerSuccess, RouteOpts } from './types';
export declare function decodeQueryParams(def: LexXrpcProcedure | LexXrpcQuery | LexXrpcSubscription, params: UndecodedParams): Params;
export declare function decodeQueryParam(type: string, value: unknown): string | number | boolean | undefined;
export declare function getQueryParams(url?: string): Record<string, string | string[]>;
export declare function validateInput(nsid: string, def: LexXrpcProcedure | LexXrpcQuery, req: express.Request, opts: RouteOpts, lexicons: Lexicons): HandlerInput | undefined;
export declare function validateOutput(nsid: string, def: LexXrpcProcedure | LexXrpcQuery, output: HandlerSuccess | undefined, lexicons: Lexicons): HandlerSuccess | undefined;
export declare function normalizeMime(v: string): any;
export declare function hasBody(req: express.Request): string | true | undefined;
export declare function processBodyAsBytes(req: express.Request): Promise<Uint8Array>;
export declare function serverTimingHeader(timings: ServerTiming[]): string;
export declare class ServerTimer implements ServerTiming {
    name: string;
    description?: string | undefined;
    duration?: number;
    private startMs?;
    constructor(name: string, description?: string | undefined);
    start(): this;
    stop(): this;
}
export interface ServerTiming {
    name: string;
    duration?: number;
    description?: string;
}
