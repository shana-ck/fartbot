import { AtpAgent } from "@atproto/api";
export class RateLimitedAgent extends AtpAgent {
    limiter;
    constructor(options, limiter) {
        super({
            ...options,
            fetch: async (...args) => {
                await this.limiter.limit();
                return fetch(...args);
            },
        });
        this.limiter = limiter;
    }
}
